<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>mej</title>

    <link rel="amphtml" href="http://mej.fi/amp/blog/yassgen">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="author" content="Mikko Johansson">

    <style>@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url(https://fonts.gstatic.com/s/lato/v11/qIIYRU-oROkIk8vfvxw6QvesZW2xOQ-xsNqO47m55DA.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url(https://fonts.gstatic.com/s/lato/v11/qdgUG4U09HnJwhYI-uK18wLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url(https://fonts.gstatic.com/s/lato/v11/G2uphNnNqGFMHLRsO_72ngLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:400;src:local("Lato Italic"),local("Lato-Italic"),url(https://fonts.gstatic.com/s/lato/v11/RYyZNoeFgb0l7W3Vu1aSWOvvDin1pK8aKteLpeZ5c0A.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:700;src:local("Lato Bold Italic"),local("Lato-BoldItalic"),url(https://fonts.gstatic.com/s/lato/v11/HkF_qI1x_noxlxhrhMQYELO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:900;src:local("Lato Black Italic"),local("Lato-BlackItalic"),url(https://fonts.gstatic.com/s/lato/v11/VNUH7ZAcagYBWsAiBBCEY7O3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url(https://fonts.gstatic.com/s/opensans/v13/cJZKeOuBrn4kERxqtaUH3bO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://fonts.gstatic.com/s/opensans/v13/k3k702ZOKiLJc3WVjuplzKRDOzjiPcYnFooOUGCOsRk.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://fonts.gstatic.com/s/opensans/v13/xjAJXh38I15wypJXxuGMBrrIa-7acMAeDBVuclsi6Gc.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxhbnBKKEOwRKgsHDreGcocg.woff) format("woff")}*{-webkit-box-sizing:border-box}body,html{margin:0;padding:0;width:100%;height:100%}body{font-size:12pt;font-weight:400;font-family:'Open Sans', sans-serif;color:#353d35;background-color:#ffffff;overflow-y:scroll;overflow-x:hidden}a{color:#00a948}a:hover{color:#00672c}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}section{padding:100px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#fbfffb;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:60px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>
  </head>
  <body>

<section class="header">
  <div class="page">
    <div class="content">
      <div class="jumbotron">
        <a class="logo" href="/">mej</a>
        <span>Technology blog and playground</span>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="page">
    <div class="content">
      <h1>YASSGen - Yet Another Static Site Generator</h1>
      <span class="date">November 05, 2016</span>
      <hr/>
<p>This time I decided to go though a bit more in detail how this blog&#39;s gulp.js build tool works. I named the tool as <a href="https://github.com/mellowi/yassgen">YASSGen</a> and created own repository for it.</p>
<p>The repository is a working version with the default directory structure and some example templates and a post. By copying the repository it is fairly easy to get it up and running to build your own blog. I&#39;m using the same tool, except yassgen version has been stripped from AMP build for now. I&#39;ll add it later into the mix, but if you want it now, an example how to do it can be found in <a href="https://github.com/mellowi/mellowi.github.io/blob/master/gulpfile.js">my blog&#39;s gulpfile.js</a>.</p>
<h2 id="installing">Installing</h2>
<p>The magic of YASSGen is in gulpfile.js and package.json. For these things to run you need Node.js to be installed and gulp.js client.</p>
<ol>
<li>Install <a href="http://nodejs.org/">Node</a></li>
<li>Install gulp.js client globally:</li>
</ol>
<pre><code class="lang-sh">    npm install -g gulp-cli</code></pre>
<ol>
<li>Copy <a href="https://github.com/mellowi/yassgen">YASSGen</a> from github. You can use <code>git clone</code> or .zip downloads.</li>
<li>Go to the folder YASSGen</li>
<li>Install YASSGen by running this command in its directory:</li>
</ol>
<pre><code class="lang-sh">    npm install</code></pre>
<h2 id="using-yassgen">Using YASSGen</h2>
<p>After installing YASSGen it is good to get familiar how to use and configure YASSGen. All the configurations can be found from the root folder&#39;s gulpfile.js.</p>
<h3 id="directory-structure">Directory structure</h3>
<p>Config object defines the default directory structure that YASSGen uses:</p>
<pre><code>var config = {
  build: &#39;build&#39;,
  assets: &#39;assets/**/*&#39;,
  styles: &#39;./styles/index.scss&#39;,
  sass: &#39;./styles/**/*.scss&#39;,
  index: &#39;./src/views/index.html&#39;,
  posts: {
    markdown: &#39;./src/posts/**.md&#39;,
    template: &#39;./src/views/post.html&#39;,
    build: &#39;./build/blog&#39;
  }
};</code></pre>
<ol>
<li>The build is generated into build folder</li>
<li>Assets are copied as those are from assets folder</li>
<li>Styles are build by linking only styles/index.scss file, which should link to the other style files by importing.</li>
<li>Index is the main page of your site which doens&#39;t include separate markdown content. In this build configuration it is found under src/views/index.html. Blog posts list is generated with this template.</li>
<li>Posts have markdown content, template and build directory defined. In the default build markdowns are found under src/posts folder, the template that is used is src/views/post.html and the results are pointed to build/blog folder.</li>
</ol>
<p>The default directory structure:</p>
<pre><code>assets/
  *.html
  *.png
  *.js
build/
  &lt;build result&gt;
src/
  posts/
    *.md
  views/
    index.html
    *.html
styles/
  index.scss
  *.scss
gulpfile.js
package.json</code></pre>
<h3 id="site-configuration">Site configuration</h3>
<p>In addition to the directory structure there is site object that should be configured.</p>
<pre><code>var site = {
  URL: &quot;http://mej.fi/&quot;,
  blogPath: &#39;blog/&#39;,
  posts: []
};</code></pre>
<p>You should define the site URL as the main address of your website. blogPath should be the same path than what is used in config for building posts. the posts variable here is just to init a array for all the posts build for the site.</p>
<h3 id="building">Building</h3>
<p>Here are the main commands to use when building the website. More can be found from gulpfile.js.</p>
<pre><code class="lang-sh">    gulp          - runs the default build command
    gulp clean    - removes the build folder
    gulp watch    - runs a webserver for static content on http://localhost:3000</code></pre>
<p>By default the build result of your website can be found from build folder. You should move all the content of that folder to where ever you host your website.</p>

    </div>
  </div>
</section>

<section class="comments">
  <div class="page">
    <div class="content">
      <div id="disqus_thread"></div>
    </div>
  </div>
</section>

<script type="text/javascript">
  var disqus_config = function () {
      var pageURL = window.location.protocol + "//" + window.location.host + window.location.pathname;
      this.page.url = pageURL;
      this.page.identifier = "blog-yassgen"; // + window.location.hash (if app)
  };

  (function() {
      var d = document;
      var s = d.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//mellowi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
  })();


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12469642-2']);
  _gaq.push(['_setDomainName', 'mej.fi']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
