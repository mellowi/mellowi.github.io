<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">

    <title>mej</title>

    <link rel="amphtml" href="http://mej.fi/amp/blog/generating-a-static-website">

    <meta name="author" content="Mikko Johansson">
    <meta name="Description" content="Personal technology blog and playground">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#00a948"/>

    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" sizes="192x192" href="/images/icon-192x192.png"/>
    <link rel="icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="/images/icon-128x128.png"/>

    <style>@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url(/fonts/Lato_700_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url(/fonts/Lato_900_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;src:local("Roboto Italic"),local("Roboto-Italic"),url(/fonts/Roboto_Italic_400_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(/fonts/Roboto_400_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}*{-webkit-box-sizing:border-box}body,html,.main{margin:0;padding:0;border:0}body{font-size:12pt;font-weight:400;font-family:'Roboto', sans-serif;color:#353d35;background-color:#ffffff}.main{position:relative;overflow:hidden}a{color:#00672c}a:hover{color:#00a948}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}header{display:block;position:relative;z-index:9000;font-size:1em;background:#fff;box-shadow:0 1px 8px rgba(0,0,0,0.1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header .content{position:relative;margin:0 auto;padding:0 25px;width:952px;height:64px}header h1{position:absolute;margin:0;padding:12px 0 0;width:55px;height:40px}header h1 a{display:block;width:100%;font-size:1em;font-weight:900;font-family:'Lato', sans-serif;color:#6e9e6e;line-height:1;text-decoration:none}header h1 a:hover{color:#75a875}header nav{display:block}header nav ul{position:absolute;margin:0 0 0 100px;padding:22px 0 0}header nav ul.outside{right:0;padding:18px 0 0}header nav ul li{list-style-type:none;padding:0;margin:0;display:inline;margin-right:0}header nav a{padding:18px 8px;font-size:1em;font-weight:600;color:#6f886d;text-decoration:none}header nav a:hover{color:#363e32}section{padding:100px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#ffffff;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:60px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>
  </head>
  <body>

<div class="main">
  <header>
    <div class="content">
      <h1>
        <a href="/" class="">mej</a>
      </h1>
    </div>
  </header>

  <section>
    <div class="page">
      <div class="content">
        <h1>Generating a static website</h1>
        <span class="date">October 18, 2016</span>
        <hr/>
  <p>When I decided to create this blog, I wanted it to be easy and cheap to maintain. I chose Github Pages for it&#39;s free hosting and stumbled on <a href="https://jekyllrb.com/">Jekyll</a>. Jekyll is a static website generator that is mostly meant for blogs. Github Pages supports Jekyll out of the box, so that Jekyll builds the site automatically everytime you update the content. Jekyll is a great tool for simple blogging, but with it comes lots of conventions and restrictions how to do things. I was looking for more flexible way, easier tool to build up my website with the technologies and structure that I would choose. I want to have full control of which layout engine I use, what kind of parameters I can have in my templates and so on.</p>
<p>I read a lot about different <a href="staticgen.com">static generators</a> and was thinking if any of these solutions were fit for my project. After some research, none of the popular and still maintained projects fitted my needs perfectly. I wanted a simple solution that was easy to modify and didn&#39;t include too many conventions. Many other developers had been on the same road and I stumbled on their blogs to read their thoughts. Of course my way of thinking doesn&#39;t fit bloggers without coding skills, because of the need to be ready to hack.</p>
<p>One promising static generator project was <a href="http://www.metalsmith.io/">Metalsmith</a>. It reminded me of task runners. So next I was looking into <a href="https://nodejs.org">Node.js</a> task runners <a href="http://gruntjs.com/">Grunt</a> and <a href="http://gulpjs.com/">gulp.js</a>. I&#39;ve used all of these to build web applications and found out that many people were building their blogs with these tools. Developers have critisized the use of Grunt and gulp.js because of the lack of plugins for their needs or because of bad plugin implementations. After using these task runners, it is easy to notice that the task definitions and configurations can become bloated.</p>
<p>Sometimes the task runners are indeed too heavy solutions for a simple build process. There is the standard package manager npm that can also be used as a building tool through <code>npm run</code> commands. Not every library has a good executable, so with this solution you also end up writing executable &#39;plugin&#39; files. One problem is that the shell commands need to be defined in JSON format that doesn&#39;t support commenting. Then there is the most oldschool way of building projects, make. Using make is similar to npm, but it works by defining a Makefile. Makefile is a configuration file that holds shell scripting that is used for building the project. Commenting is possible but we still need the executables for the used libraries.</p>
<p>After looking how many different commands and steps are needed to built my dream blog, I decided to use gulp.js. This seemed most reasonable choice for few reasons. Firstly, I need a way to pass data between the different phases of the build, so I rather have the flow inside one script file than trying to pass the data between executables. Secondly, all of the solutions need custom coding and with gulp.js I have the total control of the flow. Thirdly, my build process will have several steps because I&#39;m trying to create optimized website and not just a simple blog. Lastly, I take this as a challenge to create a gulpfile that is not so bloated.</p>
<p>In the next post I&#39;m defining goals, what kind of things the build script should handle, and how to tackle some of the problems that come up with gulp.js.</p>

      </div>
    </div>
  </section>

  <section class="comments">
    <div class="page">
      <div class="content">
        <div id="disqus_thread"></div>
      </div>
    </div>
  </section>
</div>

<script type="text/javascript">
  var disqus_config = function () {
      var pageURL = window.location.protocol + "//" + window.location.host + window.location.pathname;
      this.page.url = pageURL;
      this.page.identifier = "blog-generating-a-static-website"; // + window.location.hash (if app)
  };

  (function() {
      var d = document;
      var s = d.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//mellowi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
  })();


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12469642-2']);
  _gaq.push(['_setDomainName', 'mej.fi']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
