<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>mej</title>

    <link rel="amphtml" href="http://mej.fi/amp/blog/yarn-a-new-client-for-npm">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="author" content="Mikko Johansson">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#00a948"/>

    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" sizes="192x192" href="/images/icon-192x192.png"/>
    <link rel="icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="/images/icon-128x128.png"/>

    <style>@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url(/fonts/Lato_700_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url(/fonts/Lato_900_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;src:local("Roboto Italic"),local("Roboto-Italic"),url(/fonts/Roboto_Italic_400_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:local("Roboto"),local("Roboto-Regular"),url(/fonts/Roboto_400_latin.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2212, U+2215}*{-webkit-box-sizing:border-box}body,html{margin:0;padding:0;width:100%;height:100%}body{font-size:12pt;font-weight:400;font-family:'Roboto', sans-serif;color:#353d35;background-color:#ffffff;overflow-y:scroll;overflow-x:hidden}a{color:#00a948}a:hover{color:#00672c}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}header{display:block;position:relative;z-index:9000;font-size:1em;background:#fff;box-shadow:0 1px 0 rgba(0,20,51,0.03);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header .content{position:relative;margin:0 auto;padding:0 25px;width:952px;height:64px}header h1{position:absolute;margin:0;padding:12px 0 0;width:55px;height:40px}header h1 a{display:block;width:100%;font-size:1em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}header h1 a:hover{color:#75a875}header nav{display:block}header nav ul{position:absolute;margin:0 0 0 100px;padding:22px 0 0}header nav ul.outside{right:0;padding:18px 0 0}header nav ul li{list-style-type:none;padding:0;margin:0;display:inline;margin-right:0}header nav a{padding:18px 8px;font-size:1em;font-weight:600;color:#6f886d;text-decoration:none}header nav a:hover{color:#363e32}section{padding:100px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#ffffff;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:60px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>
  </head>
  <body>

<div class="main">
  <header>
    <div class="content">
      <h1>
        <a href="/" class="">mej</a>
      </h1>
    </div>
  </header>

  <section>
    <div class="page">
      <div class="content">
        <h1>Yarn, a new client for npm</h1>
        <span class="date">November 13, 2016</span>
        <hr/>
  <p>Package management has again taken a step forward. <a href="https://yarnpkg.com/">Yarn</a> is a new client for npm to make the development usage faster and more secure without any hassle. Yarn is an open source project that is developed in collaboration between Facebook, Exponent, Google, and Tilde.</p>
<p>Often when developing Node.js project&#39;s you download over and over again the same packages. You have just downloaded the same set and you need to wait again for the dependencies. Yarn fixes this issue by caching the packages locally on your machine. On top of that, it downloads the packages asynchronously, so the waiting time gets shorter. Yarn also gives added security by checking that the packages checksums are valid.</p>
<p>Yarn uses the flat way of installing the dependencies like the newer npm clients. This way we get rid of duplicates and we actually decrease the node_modules size. For example this project&#39;s node_modules files decrease from 15 172 to 6 911 files. The flat directory structure is also better for Windows file system, that doesn&#39;t like long directory paths.</p>
<p>You should already use yarn for most the projects that you have package.json for. Yarn doesn&#39;t yet work with private packages, but otherwise it has a good set of features already. More about <a href="https://yarnpkg.com/en/docs/migrating-from-npm">migrating from npm to Yarn</a>.</p>
<p>Yarn is a drop in placement for npm client. Easiest way to install it is:</p>
<pre><code>npm install -g yarn</code></pre>
<p>If you don&#39;t have Node.js already installed, I suggest you read <a href="https://yarnpkg.com/en/docs/install">the official install guides</a>.</p>
<p>Here are some of the most common commands that get you going.</p>
<h3 id="starting-a-new-project">Starting a new project</h3>
<pre><code>yarn init</code></pre>
<h3 id="adding-a-dependency">Adding a dependency</h3>
<pre><code>yarn add [package]
yarn add [package]@[version]
yarn add [package]@[tag]</code></pre>
<h3 id="updating-a-dependency">Updating a dependency</h3>
<pre><code>yarn upgrade [package]
yarn upgrade [package]@[version]
yarn upgrade [package]@[tag]</code></pre>
<h3 id="removing-a-dependency">Removing a dependency</h3>
<pre><code>yarn remove [package]</code></pre>
<h3 id="installing-all-the-dependencies-of-project">Installing all the dependencies of project</h3>
<pre><code>yarn</code></pre>
<p>or</p>
<pre><code>yarn install</code></pre>
<p>This command creates yarn.lock that you should include in your repository.</p>

      </div>
    </div>
  </section>

  <section class="comments">
    <div class="page">
      <div class="content">
        <div id="disqus_thread"></div>
      </div>
    </div>
  </section>
</div>

<script type="text/javascript">
  var disqus_config = function () {
      var pageURL = window.location.protocol + "//" + window.location.host + window.location.pathname;
      this.page.url = pageURL;
      this.page.identifier = "blog-yarn-a-new-client-for-npm"; // + window.location.hash (if app)
  };

  (function() {
      var d = document;
      var s = d.createElement('script');
      s.type = 'text/javascript';
      s.async = true;
      s.src = '//mellowi.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
  })();


  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-12469642-2']);
  _gaq.push(['_setDomainName', 'mej.fi']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
  })();
</script>
</body>
</html>
