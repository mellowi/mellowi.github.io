<!DOCTYPE html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">

    <title>mej</title>

    <link rel="canonical" href="http://mej.fi/blog/yarn-a-new-client-for-npm">

    <meta name="author" content="Mikko Johansson">
    <meta name="Description" content="Personal technology blog and playground">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#00a948"/>

    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" sizes="192x192" href="/images/icon-192x192.png"/>
    <link rel="icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="/images/icon-128x128.png"/>

    <style amp-custom>@font-face{font-family:'Lato';font-style:normal;font-weight:700;font-display:swap;src:local("Lato Bold"),local("Lato-Bold"),url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPGQ3q5d0.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:900;font-display:swap;src:local("Lato Black"),local("Lato-Black"),url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:local("Roboto Italic"),local("Roboto-Italic"),url(https://fonts.gstatic.com/s/roboto/v20/KFOkCnqEu92Fr1Mu51xIIzIXKMny.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}*{-webkit-box-sizing:border-box}body,html,.main{margin:0;padding:0;border:0}body{font-size:12pt;font-weight:400;font-family:'Roboto', sans-serif;color:#353d35;background-color:#ffffff}.main{position:relative;overflow:hidden}a{color:#00672c}a:hover{color:#00a948}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}header{display:block;position:relative;z-index:9000;font-size:1em;background:#fff;box-shadow:0 1px 8px rgba(0,0,0,0.1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header .content{position:relative;margin:0 auto;padding:0 25px;width:952px;height:64px}header h1{position:absolute;margin:0;padding:12px 0 0;width:55px;height:40px}header h1 a{display:block;width:100%;font-size:1em;font-weight:900;font-family:'Lato', sans-serif;color:#6e9e6e;line-height:1;text-decoration:none}header h1 a span{font-size:0.25em;display:block;margin:-4px 0 0 2px}header h1 a:hover{color:#75a875}header nav{display:block}header nav ul{position:absolute;margin:0 0 0 100px;padding:22px 0 0}header nav ul.outside{right:0;padding:18px 0 0}header nav ul li{list-style-type:none;padding:0;margin:0;display:inline;margin-right:0}header nav a{padding:18px 8px;font-size:1em;font-weight:600;color:#6f886d;text-decoration:none}header nav a:hover{color:#363e32}section{padding:60px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#ffffff;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:40px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>

    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>

<div class="main">
  <header>
    <div class="content">
      <h1>
        <a href="/" class="">mej</a>
      </h1>
    </div>
  </header>

  <section>
    <div class="page">
      <div class="content">
        <h1>Yarn, a new client for npm</h1>
        <span class="date">November 13, 2016</span>
        <hr/>
  <p>Package management has again taken a step forward. <a href="https://yarnpkg.com/">Yarn</a> is a new client for npm to make the development usage faster and more secure without any hassle. Yarn is an open source project that is developed in collaboration between Facebook, Exponent, Google, and Tilde.</p>
<p>Often when developing Node.js project&#39;s you download over and over again the same packages. You have just downloaded the same set and you need to wait again for the dependencies. Yarn fixes this issue by caching the packages locally on your machine. On top of that, it downloads the packages asynchronously, so the waiting time gets shorter. Yarn also gives added security by checking that the packages checksums are valid.</p>
<p>Yarn uses the flat way of installing the dependencies like the newer npm clients. This way we get rid of duplicates and we actually decrease the node_modules size. For example this project&#39;s node_modules files decrease from 15 172 to 6 911 files. The flat directory structure is also better for Windows file system, that doesn&#39;t like long directory paths.</p>
<p>You should already use yarn for most the projects that you have package.json for. Yarn doesn&#39;t yet work with private packages, but otherwise it has a good set of features already. More about <a href="https://yarnpkg.com/en/docs/migrating-from-npm">migrating from npm to Yarn</a>.</p>
<p>Yarn is a drop in placement for npm client. Easiest way to install it is:</p>
<pre><code>npm install -g yarn
</code></pre><p>If you don&#39;t have Node.js already installed, I suggest you read <a href="https://yarnpkg.com/en/docs/install">the official install guides</a>.</p>
<p>Here are some of the most common commands that get you going.</p>
<h3 id="starting-a-new-project">Starting a new project</h3>
<pre><code>yarn init
</code></pre><p>###Adding a dependency</p>
<pre><code>yarn add [package]
yarn add [package]@[version]
yarn add [package]@[tag]
</code></pre><h3 id="updating-a-dependency">Updating a dependency</h3>
<pre><code>yarn upgrade [package]
yarn upgrade [package]@[version]
yarn upgrade [package]@[tag]
</code></pre><h3 id="removing-a-dependency">Removing a dependency</h3>
<pre><code>yarn remove [package]
</code></pre><h3 id="installing-all-the-dependencies-of-project">Installing all the dependencies of project</h3>
<pre><code>yarn
</code></pre><p>or</p>
<pre><code>yarn install
</code></pre><p>This command creates yarn.lock that you should include in your repository.</p>

      </div>
    </div>
  </section>

  <section class="comments">
    <div class="page">
      <div class="content">
        <amp-iframe width=400 height=360
            layout="responsive"
            sandbox="allow-scripts allow-same-origin allow-modals allow-popups"
            resizable
            src="https://mej.fi/disqus.html#blog-yarn-a-new-client-for-npm">
          <div placeholder></div>
          <div overflow tabindex=0 role=button aria-label="Read more">Read more!</div>
        </amp-iframe>
      </div>
    </div>
  </section>

</div>

  <amp-analytics type="googleanalytics" id="analytics1">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-12469642-2"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
  </amp-analytics>
  </body>
</html>
