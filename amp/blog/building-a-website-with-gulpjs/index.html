<!DOCTYPE html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>mej</title>

    <link rel="canonical" href="http://mej.fi/blog/building-a-website-with-gulpjs">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="author" content="Mikko Johansson">

    <style amp-custom>@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url(https://fonts.gstatic.com/s/lato/v11/qIIYRU-oROkIk8vfvxw6QvesZW2xOQ-xsNqO47m55DA.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url(https://fonts.gstatic.com/s/lato/v11/qdgUG4U09HnJwhYI-uK18wLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url(https://fonts.gstatic.com/s/lato/v11/G2uphNnNqGFMHLRsO_72ngLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:400;src:local("Lato Italic"),local("Lato-Italic"),url(https://fonts.gstatic.com/s/lato/v11/RYyZNoeFgb0l7W3Vu1aSWOvvDin1pK8aKteLpeZ5c0A.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:700;src:local("Lato Bold Italic"),local("Lato-BoldItalic"),url(https://fonts.gstatic.com/s/lato/v11/HkF_qI1x_noxlxhrhMQYELO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:900;src:local("Lato Black Italic"),local("Lato-BlackItalic"),url(https://fonts.gstatic.com/s/lato/v11/VNUH7ZAcagYBWsAiBBCEY7O3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url(https://fonts.gstatic.com/s/opensans/v13/cJZKeOuBrn4kERxqtaUH3bO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://fonts.gstatic.com/s/opensans/v13/k3k702ZOKiLJc3WVjuplzKRDOzjiPcYnFooOUGCOsRk.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://fonts.gstatic.com/s/opensans/v13/xjAJXh38I15wypJXxuGMBrrIa-7acMAeDBVuclsi6Gc.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxhbnBKKEOwRKgsHDreGcocg.woff) format("woff")}*{-webkit-box-sizing:border-box}body,html{margin:0;padding:0;width:100%;height:100%}body{font-size:12pt;font-weight:400;font-family:'Open Sans', sans-serif;color:#353d35;background-color:#ffffff;overflow-y:scroll;overflow-x:hidden}a{color:#00a948}a:hover{color:#00672c}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}section{padding:100px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#fbfffb;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:60px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>

    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>

<section class="header">
  <div class="page">
    <div class="content">
      <div class="jumbotron">
        <a class="logo" href="/">mej</a>
        <span>Technology blog and playground</span>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="page">
    <div class="content">
      <h1>Building a website with gulp.js</h1>
      <span class="date">October 25, 2016</span>
      <hr/>
<p>Last week I decided that my blog should be generated by gulp.js. It seemed like the best possible choice for me, so I started to look how I should use gulp.js to implement the features that I had been thinking. First of all, I listed the functionalities.</p>
<h3 id="features-of-the-build-tool">Features of the build tool</h3>
<ul>
<li>builds multiple versions of the same content with different templates</li>
<li>SASS to css</li>
<li>including css to the html page template</li>
<li>parses metadata from Markdown files</li>
<li>Markdown to html and including it to the html page template</li>
<li>generates the navigation to the main page</li>
<li>automatically updates the changes to the build</li>
</ul>
<p>I needed to have two different versions of the blog posts to have the normal version and AMP version. I like to use SASS when I write styles, and I wanted the CSS to be in included in html, not as a separated CSS file. The reason for this was that I try to optimize the performance of the webpages. I wanted to write my content as Markdown, so I needed some way to compile markdown to HTML and include it to the templates. So of course I needed some good template language to support all of this variables and content. For this I chose swig, because it was simple enough for my needs. The rest of functionalities were like automatically updating by changes, and similar kind of things which gulp.js handles really well.</p>
<p>Next step was to think how to implement these. I haven&#39;t had much time to work on this project lately, so I was hoping that I can handle this thing fast. The goal was to have first working version of the build tool this week, so I started working on it. First while googling some solutions I bumped to the fact that gulp.js 4 is coming soon and is now available as a development version. I checked it out at decided to still use 3.x. I&#39;ll later update to version 4 when it is released.</p>
<p>Scripting was fairly easy as my requirements were simple. In the end I think gulp.js was painless choice to do the generation of the blog. I didn&#39;t need to write much code because gulp.js has so many plugins available. I&#39;m happy about the outcome and will be updating the script when I need more functionality or I want to change to gulp.js 4.</p>
<p>The implementation is only 200 lines of code and I think it is really simple. If you don&#39;t know gulp.js then I suggest you check the plugins that I&#39;ve used to create the functionalities. My own functions merely assign some variables that I can use in the templates. The code can be found from <a href="https://github.com/mellowi/mellowi.github.io">github.com/mellowi/mellowi.github.io</a>. There is some guidance in the README.md of the repository if you want to know how to install and use the build tool.</p>

    </div>
  </div>
</section>

<section class="comments">
  <div class="page">
    <div class="content">
      <amp-iframe width=400 height=360
          layout="responsive"
          sandbox="allow-scripts allow-same-origin allow-modals allow-popups"
          resizable
          src="https://mellowi.bitbucket.io/disqus.html#blog-building-a-website-with-gulpjs">
        <div placeholder></div>
        <div overflow tabindex=0 role=button aria-label="Read more">Read more!</div>
      </amp-iframe>
    </div>
  </div>
</section>

  <amp-analytics type="googleanalytics" id="analytics1">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-12469642-2"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
  </amp-analytics>
  </body>
</html>

