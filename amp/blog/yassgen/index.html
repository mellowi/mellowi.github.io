<!DOCTYPE html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5">

    <title>mej</title>

    <link rel="canonical" href="http://mej.fi/blog/yassgen">

    <meta name="author" content="Mikko Johansson">
    <meta name="Description" content="Personal technology blog and playground">
    <meta name="mobile-web-app-capable" content="yes" />
    <meta name="theme-color" content="#00a948"/>

    <link rel="manifest" href="/manifest.json"/>
    <link rel="icon" sizes="192x192" href="/images/icon-192x192.png"/>
    <link rel="icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon" sizes="128x128" href="/images/icon-128x128.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="128x128" href="/images/icon-128x128.png"/>

    <style amp-custom>@font-face{font-family:'Lato';font-style:normal;font-weight:700;font-display:swap;src:local("Lato Bold"),local("Lato-Bold"),url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh6UVSwiPGQ3q5d0.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Lato';font-style:normal;font-weight:900;font-display:swap;src:local("Lato Black"),local("Lato-Black"),url(https://fonts.gstatic.com/s/lato/v16/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Roboto';font-style:italic;font-weight:400;font-display:swap;src:local("Roboto Italic"),local("Roboto-Italic"),url(https://fonts.gstatic.com/s/roboto/v20/KFOkCnqEu92Fr1Mu51xIIzIXKMny.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;font-display:swap;src:local("Roboto"),local("Roboto-Regular"),url(https://fonts.gstatic.com/s/roboto/v20/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format("woff2");unicode-range:U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD}*{-webkit-box-sizing:border-box}body,html,.main{margin:0;padding:0;border:0}body{font-size:12pt;font-weight:400;font-family:'Roboto', sans-serif;color:#353d35;background-color:#ffffff}.main{position:relative;overflow:hidden}a{color:#00672c}a:hover{color:#00a948}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}header{display:block;position:relative;z-index:9000;font-size:1em;background:#fff;box-shadow:0 1px 8px rgba(0,0,0,0.1);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}header .content{position:relative;margin:0 auto;padding:0 25px;width:952px;height:64px}header h1{position:absolute;margin:0;padding:12px 0 0;width:55px;height:40px}header h1 a{display:block;width:100%;font-size:1em;font-weight:900;font-family:'Lato', sans-serif;color:#6e9e6e;line-height:1;text-decoration:none}header h1 a span{font-size:0.25em;display:block;margin:-4px 0 0 2px}header h1 a:hover{color:#75a875}header nav{display:block}header nav ul{position:absolute;margin:0 0 0 100px;padding:22px 0 0}header nav ul.outside{right:0;padding:18px 0 0}header nav ul li{list-style-type:none;padding:0;margin:0;display:inline;margin-right:0}header nav a{padding:18px 8px;font-size:1em;font-weight:600;color:#6f886d;text-decoration:none}header nav a:hover{color:#363e32}section{padding:60px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#ffffff;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:40px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}

    </style>

    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>

<div class="main">
  <header>
    <div class="content">
      <h1>
        <a href="/" class="">mej</a>
      </h1>
    </div>
  </header>

  <section>
    <div class="page">
      <div class="content">
        <h1>YASSGen - Yet Another Static Site Generator</h1>
        <span class="date">November 05, 2016</span>
        <hr/>
  <p>This time I decided to go though a bit more in detail how this blog&#39;s gulp.js build tool works. I named the tool as <a href="https://github.com/mellowi/yassgen">YASSGen</a> and created own repository for it.</p>
<p>The repository is a working version with the default directory structure and some example templates and a post. By copying the repository it is fairly easy to get it up and running to build your own blog. I&#39;m using the same tool, except yassgen version has been stripped from AMP build for now. I&#39;ll add it later into the mix, but if you want it now, an example how to do it can be found in <a href="https://github.com/mellowi/mellowi.github.io/blob/master/gulpfile.js">my blog&#39;s gulpfile.js</a>.</p>
<h2 id="installing">Installing</h2>
<p>The magic of YASSGen is in gulpfile.js and package.json. For these things to run you need Node.js to be installed and gulp.js client.</p>
<ol>
<li>Install <a href="http://nodejs.org/">Node</a></li>
<li>Install gulp.js client globally:</li>
</ol>
<pre><code class="lang-sh">    npm install -g gulp-cli
</code></pre>
<ol start="3">
<li>Copy <a href="https://github.com/mellowi/yassgen">YASSGen</a> from github. You can use <code>git clone</code> or .zip downloads.</li>
<li>Go to the folder YASSGen</li>
<li>Install YASSGen by running this command in its directory:</li>
</ol>
<pre><code class="lang-sh">    npm install
</code></pre>
<h2 id="using-yassgen">Using YASSGen</h2>
<p>After installing YASSGen it is good to get familiar how to use and configure YASSGen. All the configurations can be found from the root folder&#39;s gulpfile.js.</p>
<h3 id="directory-structure">Directory structure</h3>
<p>Config object defines the default directory structure that YASSGen uses:</p>
<pre><code>var config = {
  build: &#39;build&#39;,
  assets: &#39;assets/**/*&#39;,
  styles: &#39;./styles/index.scss&#39;,
  sass: &#39;./styles/**/*.scss&#39;,
  index: &#39;./src/views/index.html&#39;,
  posts: {
    markdown: &#39;./src/posts/**.md&#39;,
    template: &#39;./src/views/post.html&#39;,
    build: &#39;./build/blog&#39;
  }
};
</code></pre><ol>
<li>The build is generated into build folder</li>
<li>Assets are copied as those are from assets folder</li>
<li>Styles are build by linking only styles/index.scss file, which should link to the other style files by importing.</li>
<li>Index is the main page of your site which doens&#39;t include separate markdown content. In this build configuration it is found under src/views/index.html. Blog posts list is generated with this template.</li>
<li>Posts have markdown content, template and build directory defined. In the default build markdowns are found under src/posts folder, the template that is used is src/views/post.html and the results are pointed to build/blog folder.</li>
</ol>
<p>The default directory structure:</p>
<pre><code>assets/
  *.html
  *.png
  *.js
build/
  &lt;build result&gt;
src/
  posts/
    *.md
  views/
    index.html
    *.html
styles/
  index.scss
  *.scss
gulpfile.js
package.json
</code></pre><h3 id="site-configuration">Site configuration</h3>
<p>In addition to the directory structure there is site object that should be configured.</p>
<pre><code>var site = {
  URL: &quot;http://mej.fi/&quot;,
  blogPath: &#39;blog/&#39;,
  posts: []
};
</code></pre><p>You should define the site <code>URL</code> as the main address of your website. <code>blogPath</code> should be the same path than what is used in config for building posts. the <code>posts</code> variable here is just to init a array for all the posts build for the site.</p>
<h3 id="building">Building</h3>
<p>Here are the main commands to use when building the website. More can be found from gulpfile.js.</p>
<pre><code class="lang-sh">    gulp          - runs the default build command
    gulp clean    - removes the build folder
    gulp watch    - runs a webserver for static content on http://localhost:3000
</code></pre>
<p>By default the build result of your website can be found from build folder. You should move all the content of that folder to where ever you host your website.</p>

      </div>
    </div>
  </section>

  <section class="comments">
    <div class="page">
      <div class="content">
        <amp-iframe width=400 height=360
            layout="responsive"
            sandbox="allow-scripts allow-same-origin allow-modals allow-popups"
            resizable
            src="https://mej.fi/disqus.html#blog-yassgen">
          <div placeholder></div>
          <div overflow tabindex=0 role=button aria-label="Read more">Read more!</div>
        </amp-iframe>
      </div>
    </div>
  </section>

</div>

  <amp-analytics type="googleanalytics" id="analytics1">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-12469642-2"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
  </amp-analytics>
  </body>
</html>
