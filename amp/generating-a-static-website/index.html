<!DOCTYPE html>
<html amp lang="en">
  <head>
    <meta charset="utf-8">
    <title>mej</title>

    <link rel="canonical" href="http://mej.fi/generating-a-static-website">

    <meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1">
    <meta name="author" content="Mikko Johansson">

    <style amp-custom>@font-face{font-family:'Lato';font-style:normal;font-weight:400;src:local("Lato Regular"),local("Lato-Regular"),url(https://fonts.gstatic.com/s/lato/v11/qIIYRU-oROkIk8vfvxw6QvesZW2xOQ-xsNqO47m55DA.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:700;src:local("Lato Bold"),local("Lato-Bold"),url(https://fonts.gstatic.com/s/lato/v11/qdgUG4U09HnJwhYI-uK18wLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:normal;font-weight:900;src:local("Lato Black"),local("Lato-Black"),url(https://fonts.gstatic.com/s/lato/v11/G2uphNnNqGFMHLRsO_72ngLUuEpTyoUstqEm5AMlJo4.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:400;src:local("Lato Italic"),local("Lato-Italic"),url(https://fonts.gstatic.com/s/lato/v11/RYyZNoeFgb0l7W3Vu1aSWOvvDin1pK8aKteLpeZ5c0A.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:700;src:local("Lato Bold Italic"),local("Lato-BoldItalic"),url(https://fonts.gstatic.com/s/lato/v11/HkF_qI1x_noxlxhrhMQYELO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Lato';font-style:italic;font-weight:900;src:local("Lato Black Italic"),local("Lato-BlackItalic"),url(https://fonts.gstatic.com/s/lato/v11/VNUH7ZAcagYBWsAiBBCEY7O3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:400;src:local("Open Sans"),local("OpenSans"),url(https://fonts.gstatic.com/s/opensans/v13/cJZKeOuBrn4kERxqtaUH3bO3LdcAZYWl9Si6vvxL-qU.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:normal;font-weight:700;src:local("Open Sans Bold"),local("OpenSans-Bold"),url(https://fonts.gstatic.com/s/opensans/v13/k3k702ZOKiLJc3WVjuplzKRDOzjiPcYnFooOUGCOsRk.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:400;src:local("Open Sans Italic"),local("OpenSans-Italic"),url(https://fonts.gstatic.com/s/opensans/v13/xjAJXh38I15wypJXxuGMBrrIa-7acMAeDBVuclsi6Gc.woff) format("woff")}@font-face{font-family:'Open Sans';font-style:italic;font-weight:700;src:local("Open Sans Bold Italic"),local("OpenSans-BoldItalic"),url(https://fonts.gstatic.com/s/opensans/v13/PRmiXeptR36kaC0GEAetxhbnBKKEOwRKgsHDreGcocg.woff) format("woff")}*{-webkit-box-sizing:border-box}body,html{margin:0;padding:0;width:100%;height:100%}body{font-size:12pt;font-weight:400;font-family:'Open Sans', sans-serif;color:#353d35;background-color:#ffffff;overflow-y:scroll;overflow-x:hidden}a{color:#00a948}a:hover{color:#00672c}ul{margin:0 1em 1em}pre,code{padding:0 2px;background:#eff4ed;border:1px solid #e0e9e0;border-radius:3px;font-size:.9em;font-family:monospace}pre{margin-bottom:1em;padding:20px;overflow-x:auto}pre code{padding:0;border:0}hr{margin-top:10px;margin-bottom:20px;border:0;border-bottom:1px solid #fff;border-top:1px solid #e0eae0;height:0}h1{margin:0;font-size:2em;font-weight:700;font-family:'Lato', sans-serif;color:#000000;line-height:1}h2{margin-top:1.25em;font-size:1.25em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}h3{margin-top:1.1em;font-size:1.1em;font-weight:700;font-family:'Lato', sans-serif;color:#2e2e2e;line-height:1}p{margin-bottom:1em;font-size:1em}.logo{display:block;font-size:4em;font-weight:900;font-family:'Lato', sans-serif;color:#80bb80;line-height:1;text-decoration:none}.logo:hover{color:#75a875}.date{font-size:0.8em}section{padding:100px 50px;min-height:50%}section:not(:last-child){border-bottom:1px solid #e0eae0}section:nth-child(2n){background:#fbfffb;border-top:1px solid #ffffff}.header{min-height:10%}.comments{padding:30px 15px;min-height:10%}.page{margin:0 auto;padding:10px;max-width:800px}.content{margin-bottom:10px}.jumbotron{text-align:center}.jumbotron span{font-size:0.8em}.posts dt{font-style:italic;font-size:0.8em}.posts dd{margin:0 0 1em}.posts dd a{text-decoration:none}.table{width:100%;max-width:100%;margin-bottom:20px}.table-responsive{min-height:.01%;overflow-x:auto}@media screen and (max-width: 960px){section{padding:60px 30px}}@media screen and (max-width: 420px){section{padding:30px 15px}}
    </style>

    <script async custom-element="amp-analytics" src="https://cdn.ampproject.org/v0/amp-analytics-0.1.js"></script>
    <script async custom-element="amp-iframe" src="https://cdn.ampproject.org/v0/amp-iframe-0.1.js"></script>
    <style amp-boilerplate>body{-webkit-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-moz-animation:-amp-start 8s steps(1,end) 0s 1 normal both;-ms-animation:-amp-start 8s steps(1,end) 0s 1 normal both;animation:-amp-start 8s steps(1,end) 0s 1 normal both}@-webkit-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-moz-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-ms-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@-o-keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}@keyframes -amp-start{from{visibility:hidden}to{visibility:visible}}</style><noscript><style amp-boilerplate>body{-webkit-animation:none;-moz-animation:none;-ms-animation:none;animation:none}</style></noscript>
    <script async src="https://cdn.ampproject.org/v0.js"></script>
  </head>
  <body>

<section class="header">
  <div class="page">
    <div class="content">
      <div class="jumbotron">
        <a class="logo" href="/">mej</a>
        <span>Technology blog and playground</span>
      </div>
    </div>
  </div>
</section>

<section>
  <div class="page">
    <div class="content">
      <h1>Generating a static website</h1>
      <span class="date">October 18, 2016</span>
      <hr/>
<p>When I decided to create this blog, I wanted it to be easy and cheap to maintain. I chose Github Pages for its free hosting and stumbled on <a href="https://jekyllrb.com/">Jekyll</a>. Jekyll is a static website generator that is mostly meant for blogs. Github Pages supports Jekyll out of the box, so that Jekyll builds the site automatically every time you update the content. Jekyll is a great tool for simple blogging, but with it comes lots of conventions and restrictions how to do things. I was looking for more flexible way, easier tool to build up my website with the technologies and structure that I would choose. I want to have full control of which layout engine I use, what kind of parameters I can have in my templates and so on.</p>
<p>I read a lot about different <a href="staticgen.com">static generators</a> and was thinking if any of these solutions were fit for my project. After some research, none of the popular and still maintained projects fitted my needs perfectly. I wanted a simple solution that was easy to modify and didn&#39;t include too many conventions. Many other developers had been on the same road and I stumbled on their blogs to read their thoughts. Of course my way of thinking doesn&#39;t fit bloggers without coding skills, because of the need to be ready to hack.</p>
<p>One promising static generator project was <a href="http://www.metalsmith.io/">Metalsmith</a>. It reminded me of task runners. So next I was looking into <a href="https://nodejs.org">Node.js</a> task runners <a href="http://gruntjs.com/">Grunt</a> and <a href="http://gulpjs.com/">gulp.js</a>. I&#39;ve used all of these to build web applications and found out that many people were building their blogs with these tools. Developers have criticized the use of Grunt and gulp.js because of the lack of plugins for their needs or because of bad plugin implementations. After using these task runners, it is easy to notice that the task definitions and configurations can become bloated.</p>
<p>Sometimes the task runners are indeed too heavy solutions for a simple build process. There is the standard package manager npm that can also be used as a building tool through <code>npm run</code> commands. Not every library has a good executable, so with this solution you also end up writing executable &#39;plugin&#39; files. One problem is that the shell commands need to be defined in JSON format that doesn&#39;t support commenting. Then there is the most old school way of building projects, make. Using make is similar to npm, but it works by defining a Makefile. Makefile is a configuration file that holds shell scripting that is used for building the project. Commenting is possible but we still need the executables for the used libraries.</p>
<p>After looking how many different commands and steps are needed to build my dream blog, I decided to use gulp.js. This seemed most reasonable choice for few reasons. Firstly, I need a way to pass data between the different phases of the build, so I rather have the flow inside one script file than trying to pass the data between executables. Secondly, all of the solutions need custom coding and with gulp.js I have the total control of the flow. Thirdly, my build process will have several steps because I&#39;m trying to create optimized website and not just a simple blog. Lastly, I take this as a challenge to create a gulpfile that is not so bloated.</p>
<p>In the next post I&#39;m defining goals, what kind of things the build script should handle, and how to tackle some of the problems that come up with gulp.js.</p>
    </div>
  </div>
</section>

<section class="comments">
  <div class="page">
    <div class="content">
      <amp-iframe width=400 height=360
          layout="responsive"
          sandbox="allow-scripts allow-same-origin allow-modals allow-popups"
          resizable
          src="https://mellowi.bitbucket.io/disqus.html#post-generating-a-static-website">
        <div placeholder></div>
        <div overflow tabindex=0 role=button aria-label="Read more">Read more!</div>
      </amp-iframe>
    </div>
  </div>
</section>

  <amp-analytics type="googleanalytics" id="analytics1">
    <script type="application/json">
    {
      "vars": {
        "account": "UA-12469642-2"
      },
      "triggers": {
        "trackPageview": {
          "on": "visible",
          "request": "pageview"
        }
      }
    }
    </script>
  </amp-analytics>
  </body>
</html>
